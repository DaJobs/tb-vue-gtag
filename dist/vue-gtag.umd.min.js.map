{"version":3,"file":"vue-gtag.umd.min.js","sources":["../src/utils.js","../src/options.js","../src/router.js","../src/api/query.js","../src/api/config.js","../src/api/disable.js","../src/api/opt-out.js","../src/api/opt-in.js","../src/api/event.js","../src/api/pageview.js","../src/api/screenview.js","../src/api/exception.js","../src/api/linker.js","../src/api/time.js","../src/api/set.js","../src/api/refund.js","../src/api/purchase.js","../src/api/custom-map.js","../src/attach-api.js","../src/add-configuration.js","../src/track.js","../src/add-routes-tracker.js","../src/bootstrap.js","../src/register-globals.js","../src/index.js"],"sourcesContent":["export const load = (url, options = {}) => {\n  return new Promise((resolve, reject) => {\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    const head = document.head || document.getElementsByTagName(\"head\")[0];\n    const script = document.createElement(\"script\");\n\n    script.async = true;\n    script.src = url;\n    script.defer = options.defer;\n\n    if (options.preconnectOrigin) {\n      const link = document.createElement(\"link\");\n\n      link.href = options.preconnectOrigin;\n      link.rel = \"preconnect\";\n\n      head.appendChild(link);\n    }\n\n    head.appendChild(script);\n\n    script.onload = resolve;\n    script.onerror = reject;\n  });\n};\n\nexport const isFn = (fn) => typeof fn === \"function\";\n\nexport const isObject = (item) => {\n  return item && typeof item === \"object\" && !Array.isArray(item);\n};\n\nexport const mergeDeep = (target, ...sources) => {\n  if (!sources.length) {\n    return target;\n  }\n\n  const source = sources.shift();\n\n  if (!isObject(target) || !isObject(source)) {\n    return;\n  }\n\n  for (const key in source) {\n    if (isObject(source[key])) {\n      if (!target[key]) {\n        Object.assign(target, { [key]: {} });\n      }\n\n      mergeDeep(target[key], source[key]);\n    } else {\n      Object.assign(target, { [key]: source[key] });\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n};\n\nexport const isBrowser = () => {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    return false;\n  }\n\n  return true;\n};\n\nexport const warn = (text, shouldLog = true) => {\n  if (!isBrowser() || process.env.NODE_ENV === \"production\") {\n    return;\n  }\n\n  if (!shouldLog) {\n    return;\n  }\n\n  console.warn(`[vue-gtag] ${text}`);\n};\n\nexport const validateScreenviewShape = (obj = {}) => {\n  warn(\n    `Missing \"appName\" property inside the plugin options.`,\n    obj.app_name == null\n  );\n\n  warn(`Missing \"name\" property in the route.`, obj.screen_name == null);\n\n  return obj;\n};\n\nexport function getPathWithBase(path = \"\", base = \"\") {\n  const pathAsArray = path.split(\"/\");\n  const baseAsArray = base.split(\"/\");\n\n  if (pathAsArray[0] === \"\" && base[base.length - 1] === \"/\") {\n    pathAsArray.shift();\n  }\n\n  return decodeURIComponent(baseAsArray.join(\"/\") + pathAsArray.join(\"/\"));\n}\n","import { mergeDeep } from \"@/utils\";\n\nexport const getDefaultParams = () => ({\n  bootstrap: true,\n  onReady: null,\n  onError: null,\n  onBeforeTrack: null,\n  onAfterTrack: null,\n  pageTrackerTemplate: null,\n  customResourceURL: \"https://www.googletagmanager.com/gtag/js\",\n  customPreconnectOrigin: \"https://www.googletagmanager.com\",\n  deferScriptLoad: false,\n  pageTrackerExcludedRoutes: [],\n  pageTrackerEnabled: true,\n  enabled: true,\n  disableScriptLoad: false,\n  pageTrackerScreenviewEnabled: false,\n  appName: null,\n  pageTrackerUseFullPath: false,\n  pageTrackerPrependBase: true,\n  pageTrackerSkipSamePath: true,\n  globalDataLayerName: \"dataLayer\",\n  globalObjectName: \"gtag\",\n  defaultGroupName: \"default\",\n  includes: null,\n  config: {\n    id: null,\n    params: {\n      send_page_view: false,\n    },\n  },\n});\n\nlet params = {};\n\nexport const setOptions = (options = {}) => {\n  const defaultParams = getDefaultParams();\n  params = mergeDeep(defaultParams, options);\n};\n\nexport const getOptions = () => {\n  return params;\n};\n","let router;\n\nexport const setRouter = (instance) => {\n  router = instance;\n};\n\nexport const getRouter = () => router;\n\nexport default router;\n","import { getOptions } from \"@/options\";\nimport { isBrowser } from \"@/utils\";\n\nexport default (...args) => {\n  const { globalObjectName } = getOptions();\n\n  if (!isBrowser() || typeof window[globalObjectName] === \"undefined\") {\n    return;\n  }\n\n  window[globalObjectName](...args);\n};\n","import query from \"@/api/query\";\nimport { getOptions } from \"@/options\";\n\nexport default (...args) => {\n  const { config, includes } = getOptions();\n\n  query(\"config\", config.id, ...args);\n\n  if (Array.isArray(includes)) {\n    includes.forEach((domain) => {\n      query(\"config\", domain.id, ...args);\n    });\n  }\n};\n","import { isBrowser } from \"@/utils\";\nimport { getOptions } from \"@/options\";\n\nconst assignGlobalProperty = (id, value) => {\n  if (!isBrowser()) {\n    return;\n  }\n\n  window[`ga-disable-${id}`] = value;\n};\n\nexport default (value = true) => {\n  const { config, includes } = getOptions();\n\n  assignGlobalProperty(config.id, value);\n\n  if (Array.isArray(includes)) {\n    includes.forEach((domain) => assignGlobalProperty(domain.id, value));\n  }\n};\n","import disable from \"@/api/disable\";\n\nexport default () => {\n  disable(true);\n};\n","import disable from \"@/api/disable\";\n\nexport default () => {\n  disable(false);\n};\n","import { getOptions } from \"@/options\";\nimport query from \"@/api/query\";\n\nexport default (name, params = {}) => {\n  const { includes, defaultGroupName } = getOptions();\n\n  if (params.send_to == null && Array.isArray(includes) && includes.length) {\n    params.send_to = includes\n      .map((domain) => domain.id)\n      .concat(defaultGroupName);\n  }\n\n  query(\"event\", name, params);\n};\n","import { getOptions } from \"@/options\";\nimport { getRouter } from \"@/router\";\nimport { getPathWithBase, isBrowser } from \"@/utils\";\nimport event from \"@/api/event\";\n\nexport default (param) => {\n  if (!isBrowser()) {\n    return;\n  }\n\n  let template;\n\n  if (typeof param === \"string\") {\n    template = {\n      page_path: param,\n    };\n  } else if (param.path || param.fullPath) {\n    const {\n      pageTrackerUseFullPath: useFullPath,\n      pageTrackerPrependBase: useBase,\n    } = getOptions();\n    const router = getRouter();\n    const base = router && router.options.base;\n    const path = useFullPath ? param.fullPath : param.path;\n\n    template = {\n      ...((param.name || param.params) && {\n        page_title:\n          Object.keys(param.params).length > 0\n            ? param.params[Object.keys(param.params)[0]]\n                .slice(\n                  0,\n                  param.params[Object.keys(param.params)[0]].lastIndexOf(\"-\") >\n                    0\n                    ? param.params[Object.keys(param.params)[0]].lastIndexOf(\n                        \"-\"\n                      )\n                    : param.params[Object.keys(param.params)[0]].length\n                )\n                .replaceAll(\"-\", \" \")\n            : param.name,\n      }),\n      page_path: useBase\n        ? getPathWithBase(path, base)\n        : decodeURIComponent(path),\n    };\n  } else {\n    template = param;\n  }\n\n  if (template.page_location == null) {\n    template.page_location = decodeURIComponent(window.location.href);\n  }\n\n  if (template.send_page_view == null) {\n    template.send_page_view = true;\n  }\n\n  template.page_referrer = decodeURIComponent(document.referrer);\n\n  event(\"page_view\", template);\n};\n","import { getOptions } from \"@/options\";\nimport event from \"@/api/event\";\n\nexport default (param) => {\n  const { appName } = getOptions();\n\n  if (!param) {\n    return;\n  }\n\n  let template;\n\n  if (typeof param === \"string\") {\n    template = {\n      screen_name: param,\n    };\n  } else {\n    template = param;\n  }\n\n  template.app_name = template.app_name || appName;\n\n  event(\"screen_view\", template);\n};\n","import event from \"@/api/event\";\n\nexport default (...args) => {\n  event(\"exception\", ...args);\n};\n","import config from \"./config\";\n\nexport default (params) => {\n  config(\"linker\", params);\n};\n","import event from \"@/api/event\";\n\nexport default (params) => {\n  event(\"timing_complete\", params);\n};\n","import query from \"@/api/query\";\n\nexport default (...args) => {\n  query(\"set\", ...args);\n};\n","import event from \"@/api/event\";\n\nexport default (...args) => {\n  event(\"refund\", ...args);\n};\n","import event from \"@/api/event\";\n\nexport default (params) => {\n  event(\"purchase\", params);\n};\n","import config from \"@/api/config\";\n\nexport default (map) => {\n  config({\n    custom_map: map,\n  });\n};\n","import * as api from \"@/api\";\n\nconst attachApi = (Vue) => (Vue.$gtag = Vue.prototype.$gtag = api);\n\nexport default attachApi;\n","import * as api from \"@/api\";\nimport { getOptions } from \"@/options\";\n\nconst mergeDefaultParams = (params) => ({\n  send_page_view: false,\n  ...params,\n});\n\nexport default () => {\n  const { config, includes } = getOptions();\n\n  api.query(\"config\", config.id, mergeDefaultParams(config.params));\n\n  if (Array.isArray(includes)) {\n    includes.forEach((domain) => {\n      api.query(\"config\", domain.id, mergeDefaultParams(domain.params));\n    });\n  }\n};\n","import { getOptions } from \"@/options\";\nimport { validateScreenviewShape, isFn } from \"@/utils\";\nimport * as api from \"@/api\";\n\nexport default (to = {}, from = {}) => {\n  const {\n    appName,\n    pageTrackerTemplate: proxy,\n    pageTrackerScreenviewEnabled: useScreenview,\n    pageTrackerSkipSamePath: skipSamePath,\n  } = getOptions();\n\n  if (skipSamePath && to.path === from.path) {\n    return;\n  }\n\n  let template = to;\n\n  if (isFn(proxy)) {\n    template = proxy(to, from);\n  } else if (useScreenview) {\n    template = validateScreenviewShape({\n      app_name: appName,\n      screen_name: to.name,\n    });\n  }\n\n  if (useScreenview) {\n    api.screenview(template);\n    return;\n  }\n\n  api.pageview(template);\n};\n","import Vue from \"vue\";\nimport { isFn } from \"@/utils\";\nimport { getRouter } from \"@/router\";\nimport { getOptions } from \"@/options\";\nimport addConfiguration from \"@/add-configuration\";\nimport track from \"@/track\";\n\nconst isRouteExcluded = (route) => {\n  const { pageTrackerExcludedRoutes: routes } = getOptions();\n  return routes.includes(route.path) || routes.includes(route.name);\n};\n\nexport default () => {\n  const { onBeforeTrack, onAfterTrack } = getOptions();\n  const router = getRouter();\n\n  router.onReady(() => {\n    Vue.nextTick().then(() => {\n      const { currentRoute } = router;\n\n      addConfiguration();\n\n      if (isRouteExcluded(currentRoute)) {\n        return;\n      }\n\n      track(currentRoute);\n    });\n\n    router.afterEach((to, from) => {\n      Vue.nextTick().then(() => {\n        if (isRouteExcluded(to)) {\n          return;\n        }\n\n        if (isFn(onBeforeTrack)) {\n          onBeforeTrack(to, from);\n        }\n\n        track(to, from);\n\n        if (isFn(onAfterTrack)) {\n          onAfterTrack(to, from);\n        }\n      });\n    });\n  });\n};\n","import { load } from \"@/utils\";\nimport registerGlobals from \"@/register-globals\";\nimport addRoutesTracker from \"@/add-routes-tracker\";\nimport { getOptions } from \"@/options\";\nimport { getRouter } from \"@/router\";\nimport addConfiguration from \"@/add-configuration\";\n\nexport default () => {\n  const {\n    onReady,\n    onError,\n    globalObjectName,\n    globalDataLayerName,\n    config,\n    customResourceURL,\n    customPreconnectOrigin,\n    deferScriptLoad,\n    pageTrackerEnabled,\n    disableScriptLoad,\n  } = getOptions();\n\n  const isPageTrackerEnabled = Boolean(pageTrackerEnabled && getRouter());\n\n  registerGlobals();\n\n  if (isPageTrackerEnabled) {\n    addRoutesTracker();\n  } else {\n    addConfiguration();\n  }\n\n  if (disableScriptLoad) {\n    return;\n  }\n\n  return load(`${customResourceURL}?id=${config.id}&l=${globalDataLayerName}`, {\n    preconnectOrigin: customPreconnectOrigin,\n    defer: deferScriptLoad,\n  })\n    .then(() => {\n      if (onReady) {\n        onReady(window[globalObjectName]);\n      }\n    })\n    .catch((error) => {\n      if (onError) {\n        onError(error);\n      }\n\n      return error;\n    });\n};\n","import { isBrowser } from \"@/utils\";\nimport { getOptions } from \"@/options\";\nimport * as api from \"@/api\";\n\nexport default () => {\n  if (!isBrowser()) {\n    return;\n  }\n\n  const { enabled, globalObjectName, globalDataLayerName } = getOptions();\n\n  if (window[globalObjectName] == null) {\n    window[globalDataLayerName] = window[globalDataLayerName] || [];\n    window[globalObjectName] = function () {\n      window[globalDataLayerName].push(arguments);\n    };\n  }\n\n  window[globalObjectName](\"js\", new Date());\n\n  if (!enabled) {\n    api.optOut();\n  }\n\n  return window[globalObjectName];\n};\n","import attachApi from \"@/attach-api\";\nimport { setOptions, getOptions } from \"@/options\";\nimport bootstrap from \"@/bootstrap\";\nimport { setRouter } from \"@/router\";\n\nconst install = (Vue, options = {}, router) => {\n  attachApi(Vue);\n  setOptions(options);\n  setRouter(router);\n\n  if (getOptions().bootstrap) {\n    bootstrap();\n  }\n};\n\nexport { default as query } from \"@/api/query\";\nexport { default as config } from \"@/api/config\";\nexport { default as optOut } from \"@/api/opt-out\";\nexport { default as optIn } from \"@/api/opt-in\";\nexport { default as pageview } from \"@/api/pageview\";\nexport { default as screenview } from \"@/api/screenview\";\nexport { default as exception } from \"@/api/exception\";\nexport { default as linker } from \"@/api/linker\";\nexport { default as time } from \"@/api/time\";\nexport { default as set } from \"@/api/set\";\nexport { default as refund } from \"@/api/refund\";\nexport { default as purchase } from \"@/api/purchase\";\nexport { default as customMap } from \"@/api/custom-map\";\nexport { default as event } from \"@/api/event\";\n\nexport { default as bootstrap } from \"@/bootstrap\";\nexport { default as addRoutesTracker } from \"@/add-routes-tracker\";\n\nexport { setOptions } from \"@/options\";\nexport { setRouter } from \"@/router\";\n\nexport { install };\n\nexport default install;\n"],"names":["isFn","fn","isObject","item","_typeof","Array","isArray","mergeDeep","target","_len","arguments","length","sources","_key","source","shift","key","Object","assign","_defineProperty","apply","concat","isBrowser","window","document","warn","text","validateScreenviewShape","obj","undefined","app_name","screen_name","getPathWithBase","path","base","pathAsArray","split","baseAsArray","decodeURIComponent","join","router","params","setOptions","options","defaultParams","bootstrap","onReady","onError","onBeforeTrack","onAfterTrack","pageTrackerTemplate","customResourceURL","customPreconnectOrigin","deferScriptLoad","pageTrackerExcludedRoutes","pageTrackerEnabled","enabled","disableScriptLoad","pageTrackerScreenviewEnabled","appName","pageTrackerUseFullPath","pageTrackerPrependBase","pageTrackerSkipSamePath","globalDataLayerName","globalObjectName","defaultGroupName","includes","config","id","send_page_view","getOptions","query","_window","_getOptions","args","forEach","domain","assignGlobalProperty","value","disable","optOut","optIn","setRouter","instance","getRouter","event","name","send_to","map","pageview","param","template","page_path","fullPath","useFullPath","useBase","_objectSpread","page_title","keys","slice","lastIndexOf","replaceAll","page_location","location","href","page_referrer","referrer","screenview","exception","linker","time","set","refund","purchase","customMap","custom_map","attachApi","Vue","$gtag","prototype","api","mergeDefaultParams","addConfiguration","track","to","from","proxy","useScreenview","skipSamePath","isRouteExcluded","route","routes","addRoutesTracker","_getOptions2","nextTick","then","currentRoute","afterEach","isPageTrackerEnabled","Boolean","push","Date","registerGlobals","url","Promise","resolve","reject","head","getElementsByTagName","script","createElement","async","src","defer","preconnectOrigin","link","rel","appendChild","onload","onerror","load","catch","error","install"],"mappings":"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"}